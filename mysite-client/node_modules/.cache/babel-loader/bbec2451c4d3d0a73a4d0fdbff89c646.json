{"ast":null,"code":"import _asyncToGenerator from \"/Users/linwinwin/Desktop/mysit2/mysite-client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\n// 侧边栏个人信息模块共享数据\nimport { getSetting } from \"@/api/setting\";\nimport titleSet from \"@/utils/titleSet\";\nexport default {\n  namespaced: true,\n  // 开启命名规范\n  state: {\n    data: null // 数据\n\n  },\n  mutations: {\n    setData: function setData(state, payload) {\n      // mutation 函数接受 state 作为第一个参数\n      state.data = payload;\n    }\n  },\n  actions: {\n    // 异步函数\n    fetchData: function fetchData(ctx) {\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var resp;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return getSetting();\n\n              case 2:\n                resp = _context.sent;\n                console.log(resp);\n                ctx.commit(\"setData\", resp); // 不能直接说修改 ct.state.data  = resp ， vuex 中数据的更改必须是 commit 一个 mutation 函数\n\n                if (resp.siteTitle) {\n                  // 设置网站标题\n                  titleSet.setSiteTitle(resp.siteTitle);\n                }\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["getSetting","titleSet","namespaced","state","data","mutations","setData","payload","actions","fetchData","ctx","resp","console","log","commit","siteTitle","setSiteTitle"],"sources":["/Users/linwinwin/Desktop/mysit2/mysite-client/src/store/setting.js"],"sourcesContent":["// 侧边栏个人信息模块共享数据\nimport {\n    getSetting\n} from \"@/api/setting\";\nimport titleSet from \"@/utils/titleSet\";\nexport default {\n    namespaced: true, // 开启命名规范\n    state: {\n        data: null // 数据\n    },\n    mutations: {\n        setData(state, payload) {\n            // mutation 函数接受 state 作为第一个参数\n            state.data = payload\n        }\n    },\n    actions: {\n        // 异步函数\n        async fetchData(ctx) { // ctx 为 导出的对象 {}\n            const resp = await getSetting();\n            console.log(resp)\n            ctx.commit(\"setData\", resp) // 不能直接说修改 ct.state.data  = resp ， vuex 中数据的更改必须是 commit 一个 mutation 函数\n            if (resp.siteTitle) {\n                // 设置网站标题\n                titleSet.setSiteTitle(resp.siteTitle)\n            }\n        }\n    }\n}"],"mappings":";;AAAA;AACA,SACIA,UADJ,QAEO,eAFP;AAGA,OAAOC,QAAP,MAAqB,kBAArB;AACA,eAAe;EACXC,UAAU,EAAE,IADD;EACO;EAClBC,KAAK,EAAE;IACHC,IAAI,EAAE,IADH,CACQ;;EADR,CAFI;EAKXC,SAAS,EAAE;IACPC,OADO,mBACCH,KADD,EACQI,OADR,EACiB;MACpB;MACAJ,KAAK,CAACC,IAAN,GAAaG,OAAb;IACH;EAJM,CALA;EAWXC,OAAO,EAAE;IACL;IACMC,SAFD,qBAEWC,GAFX,EAEgB;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACEV,UAAU,EADZ;;cAAA;gBACXW,IADW;gBAEjBC,OAAO,CAACC,GAAR,CAAYF,IAAZ;gBACAD,GAAG,CAACI,MAAJ,CAAW,SAAX,EAAsBH,IAAtB,EAHiB,CAGW;;gBAC5B,IAAIA,IAAI,CAACI,SAAT,EAAoB;kBAChB;kBACAd,QAAQ,CAACe,YAAT,CAAsBL,IAAI,CAACI,SAA3B;gBACH;;cAPgB;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAQpB;EAVI;AAXE,CAAf"},"metadata":{},"sourceType":"module"}