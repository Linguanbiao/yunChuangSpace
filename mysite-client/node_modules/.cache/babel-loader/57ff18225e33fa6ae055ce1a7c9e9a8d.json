{"ast":null,"code":"import _objectSpread from \"/Users/linwinwin/Desktop/mysit2/mysite-client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _toConsumableArray from \"/Users/linwinwin/Desktop/mysit2/mysite-client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.map.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport RightList from \"../RightList.vue\";\nimport fetch from \"@/mixins/fetchData.js\";\nimport { getBlogTypes } from \"@/api/blog.js\";\nimport Loading from \"@/components/Loading.vue\";\nexport default {\n  mixins: [fetch([])],\n  components: {\n    RightList: RightList,\n    Loading: Loading\n  },\n  computed: {\n    categoryId: function categoryId() {\n      return +this.$route.params.categoryId || -1;\n    },\n    limit: function limit() {\n      return +this.$route.query.limit || 10;\n    },\n    list: function list() {\n      var _this = this;\n\n      var totalArticleCount = this.data.reduce(function (a, b) {\n        return a + b.articleCount;\n      }, 0);\n      var result = [{\n        id: -1,\n        name: \"全部\",\n        articleCount: totalArticleCount\n      }].concat(_toConsumableArray(this.data));\n      return result.map(function (item) {\n        return _objectSpread(_objectSpread({}, item), {}, {\n          isSelected: item.id === _this.categoryId,\n          aside: \"\".concat(item.articleCount, \"\\u7BC7\")\n        });\n      });\n    }\n  },\n  methods: {\n    fetchData: function fetchData() {\n      return getBlogTypes();\n    },\n    handleSelect: function handleSelect(cateItem) {\n      // 处理侧边栏点击事件，点击以后根据 点击的选项的 id 进行改变路由地址， 路由地址改变又会重新进行渲染，进行 第40 行代码匹配改变当前 isSelectd = true\n      // 同样这里也是两种情况分析\n      var newPage = 1;\n      this.$router.push(\"/blog/cate/\".concat(cateItem.id, \"?page=\").concat(newPage, \"&limit=\").concat(this.limit)); // if (Object.keys(this.$route.params).length === 0) {\n      //   //代码中的路由跳转，使用 vue-router 提供的实例 router 进行 push 跳转\n      //   this.$router.push(`/blog?page=${newPage}&limit=${this.limit}`);\n      // } else {\n      //   this.$router.push(\n      //     `/blog/cate/${cateItem.id}?page=${newPage}&limit=${this.limit}`\n      //   );\n      // }\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;AAaA;AACA;AACA;AACA;AAEA;EACAA,mBADA;EAEAC;IACAC,oBADA;IAEAC;EAFA,CAFA;EAMAC;IACAC,UADA,wBACA;MACA;IACA,CAHA;IAIAC,KAJA,mBAIA;MACA;IACA,CANA;IAOAC,IAPA,kBAOA;MAAA;;MACA,yCACA;QAAA;MAAA,CADA,EAEA,CAFA;MAIA,cACA;QAAAC;QAAAC;QAAAC;MAAA,CADA,4BAEA,SAFA;MAIA;QAAA,uCACAC,IADA;UAEAC,wCAFA;UAGAC;QAHA;MAAA;IAKA;EArBA,CANA;EA8BAC;IACAC,SADA,uBACA;MACA;IACA,CAHA;IAIAC,YAJA,wBAIAC,QAJA,EAIA;MACA;MACA;MACA;MACA,uCACAA,WADA,mBACAC,OADA,oBACA,UADA,GAJA,CAOA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;EAnBA;AA9BA","names":["mixins","components","RightList","Loading","computed","categoryId","limit","list","id","name","articleCount","item","isSelected","aside","methods","fetchData","handleSelect","cateItem","newPage"],"sourceRoot":"src/views/Blog/BlogList","sources":["BlogCategory.vue"],"sourcesContent":["<template>\n  <div class=\"cate-Container\">\n    <Loading v-if=\"isLoading\"></Loading>\n    <h2 v-if=\"data.length != 0\">文章分类</h2>\n    <RightList\n      :list=\"list\"\n      v-if=\"data.length != 0\"\n      @select=\"handleSelect\"\n    ></RightList>\n  </div>\n</template>\n\n<script>\nimport RightList from \"../RightList.vue\";\nimport fetch from \"@/mixins/fetchData.js\";\nimport { getBlogTypes } from \"@/api/blog.js\";\nimport Loading from \"@/components/Loading.vue\";\n\nexport default {\n  mixins: [fetch([])],\n  components: {\n    RightList,\n    Loading,\n  },\n  computed: {\n    categoryId() {\n      return +this.$route.params.categoryId || -1;\n    },\n    limit() {\n      return +this.$route.query.limit || 10;\n    },\n    list() {\n      const totalArticleCount = this.data.reduce(\n        (a, b) => a + b.articleCount,\n        0\n      );\n      const result = [\n        { id: -1, name: \"全部\", articleCount: totalArticleCount },\n        ...this.data,\n      ];\n      return result.map((item) => ({\n        ...item,\n        isSelected: item.id === this.categoryId,\n        aside: `${item.articleCount}篇`,\n      }));\n    },\n  },\n\n  methods: {\n    fetchData() {\n      return getBlogTypes();\n    },\n    handleSelect(cateItem) {\n      // 处理侧边栏点击事件，点击以后根据 点击的选项的 id 进行改变路由地址， 路由地址改变又会重新进行渲染，进行 第40 行代码匹配改变当前 isSelectd = true\n      // 同样这里也是两种情况分析\n      const newPage = 1;\n      this.$router.push(\n        `/blog/cate/${cateItem.id}?page=${newPage}&limit=${this.limit}`\n      );\n      // if (Object.keys(this.$route.params).length === 0) {\n      //   //代码中的路由跳转，使用 vue-router 提供的实例 router 进行 push 跳转\n      //   this.$router.push(`/blog?page=${newPage}&limit=${this.limit}`);\n      // } else {\n      //   this.$router.push(\n      //     `/blog/cate/${cateItem.id}?page=${newPage}&limit=${this.limit}`\n      //   );\n      // }\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.cate-Container {\n  height: 100%;\n  width: 250px;\n  position: relative;\n  white-space: nowrap;\n  box-sizing: border-box;\n  padding: 20px;\n  padding-top: 10px;\n  overflow: auto;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}