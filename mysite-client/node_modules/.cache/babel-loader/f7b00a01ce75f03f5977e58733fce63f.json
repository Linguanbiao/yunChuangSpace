{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Layout from \"@/components/Layout.vue\";\nimport BlogDetails from \"./BlogDetails/BlogDetails.vue\";\nimport BlogToc from \"./BlogDetails/BlogToc.vue\";\nimport BlogComment from \"./BlogDetails/BlogComment.vue\";\nexport default {\n  components: {\n    Layout: Layout,\n    BlogToc: BlogToc,\n    BlogDetails: BlogDetails,\n    BlogComment: BlogComment\n  },\n  created: function created() {\n    // 监听  ToTop 上事件总线上抛出的事件，修改滚动条高度\n    this.$bus.$on(\"setMainScroll\", this.setMainScroll);\n  },\n  methods: {\n    /**\n     * 为监听的滚动事件抛出一个事件, 添加的是 事件总线，这样更灵活可以跨组建，子组件可以处理父组件抛出的事件\n     * 事件名称： mainScroll\n     * 含义：主区域滚动条位置发生变化后触发\n     * 参数：滚动的dom元素\n     */\n    handleScroll: function handleScroll() {\n      this.$bus.$emit(\"mainScroll\", this.$refs.mianContainer);\n    },\n\n    /**\n     * 在接受到 ToTop 在事件总线上抛出的事件后， 将滚动条的 scrollTop 进行修改\n     */\n    setMainScroll: function setMainScroll(top) {\n      this.$refs.mianContainer.scrollTop = top;\n    }\n  },\n  mounted: function mounted() {\n    // 元素挂载以后，添加一个页面监听事件\n    this.$refs.mianContainer.addEventListener(\"scroll\", this.handleScroll);\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.$refs.mianContainer.removeEventListener(\"scroll\", this.handleScroll);\n    this.$bus.$off(\"setMainScroll\", this.setMainScroll);\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AACA;EACAA;IACAC,cADA;IAEAC,gBAFA;IAGAC,wBAHA;IAIAC;EAJA,CADA;EAOAC,OAPA,qBAOA;IACA;IACA;EACA,CAVA;EAWAC;IACA;AACA;AACA;AACA;AACA;AACA;IACAC,YAPA,0BAOA;MACA;IACA,CATA;;IAWA;AACA;AACA;IACAC,aAdA,yBAcAC,GAdA,EAcA;MACA;IACA;EAhBA,CAXA;EA8BAC,OA9BA,qBA8BA;IACA;IACA;EACA,CAjCA;EAkCAC,aAlCA,2BAkCA;IACA;IACA;EACA;AArCA","names":["components","Layout","BlogToc","BlogDetails","BlogComment","created","methods","handleScroll","setMainScroll","top","mounted","beforeDestroy"],"sourceRoot":"src/views/Blog","sources":["Details.vue"],"sourcesContent":["<template>\n  <Layout class=\"blogDetails-container\">\n    <template #default>\n      <div class=\"main\" ref=\"mianContainer\">\n        <BlogDetails></BlogDetails>\n      </div>\n    </template>\n    <template #right>\n      <div class=\"right\">\n        <BlogToc></BlogToc>\n      </div>\n    </template>\n  </Layout>\n</template>\n\n<script>\nimport Layout from \"@/components/Layout.vue\";\nimport BlogDetails from \"./BlogDetails/BlogDetails.vue\";\nimport BlogToc from \"./BlogDetails/BlogToc.vue\";\nimport BlogComment from \"./BlogDetails/BlogComment.vue\";\nexport default {\n  components: {\n    Layout,\n    BlogToc,\n    BlogDetails,\n    BlogComment,\n  },\n  created() {\n    // 监听  ToTop 上事件总线上抛出的事件，修改滚动条高度\n    this.$bus.$on(\"setMainScroll\", this.setMainScroll);\n  },\n  methods: {\n    /**\n     * 为监听的滚动事件抛出一个事件, 添加的是 事件总线，这样更灵活可以跨组建，子组件可以处理父组件抛出的事件\n     * 事件名称： mainScroll\n     * 含义：主区域滚动条位置发生变化后触发\n     * 参数：滚动的dom元素\n     */\n    handleScroll() {\n      this.$bus.$emit(\"mainScroll\", this.$refs.mianContainer);\n    },\n\n    /**\n     * 在接受到 ToTop 在事件总线上抛出的事件后， 将滚动条的 scrollTop 进行修改\n     */\n    setMainScroll(top) {\n      this.$refs.mianContainer.scrollTop = top;\n    },\n  },\n\n  mounted() {\n    // 元素挂载以后，添加一个页面监听事件\n    this.$refs.mianContainer.addEventListener(\"scroll\", this.handleScroll);\n  },\n  beforeDestroy() {\n    this.$refs.mianContainer.removeEventListener(\"scroll\", this.handleScroll);\n    this.$bus.$off(\"setMainScroll\", this.setMainScroll);\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.blogDetails-container {\n  width: 100%;\n  height: 100%;\n  padding: 10px;\n  .main {\n    position: relative;\n    overflow-y: scroll;\n    width: 100%;\n    height: 100%;\n  }\n  .right {\n    position: relative;\n    width: 250px;\n    height: 100%;\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}